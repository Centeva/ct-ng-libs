angular.module("centeva-ng-libs.referenceInterceptor",[]).factory("referenceInterceptor",function(){function a(a){function d(a,f){var g=angular.isObject(a);if(angular.isArray(a))for(var h=0;h<a.length;h++)a[h]=d(a[h],f);else if(g){a.$parent=f,angular.isDefined(a.$id)&&(e[a.$id]=a);for(var i in a)a.hasOwnProperty(i)&&"$parent"!==i&&(a[i]=d(a[i],a))}if(g&&angular.isDefined(a.$ref)&&angular.isDefined(e[a.$ref])){if(c(a,a.$ref)){var j=angular.copy(e[a.$ref]);return b(j),j}return e[a.$ref]}return g&&delete a.$parent,a}var e=[];return d(a,null),a}function b(a){if(angular.isArray(a))for(var c=0;c<a.length;c++)b(a[c]);else if(angular.isObject(a)){delete a.$parent;for(var d in a)a.hasOwnProperty(d)&&b(a[d])}}function c(a,b){return angular.isObject(a)?a.$id===b?!0:c(a.$parent,b):!1}return{response:function(b){return a(b)}}}).config(["$httpProvider",function(a){a.interceptors.push("referenceInterceptor")}]);